(function(f,h){var k=function(){this.easingStoreKey=this.storePoint.name+this.storePoint.easing;this.fingerprintStoreKey=this.storePoint.name+this.storePoint.options;this.domain=f.location.hostname||f.location.host;this.isMobile=this.regex.mobile.test(f.navigator.userAgent)?!0:!1;this.detectIEBrowser=this.regex.ie.test(f.navigator.userAgent)?!0:!1};k.prototype={defaults:{libs:{fingerprint:{path:"/dist/fingerprint2.min.js",options:{excludeUserAgent:!0}},easingjQuery:{path:"/dist/easing.min.js"}},cache:!0,
async:!0,verbose:!0,modules:[],rotate:!1,path:"/sa"},console:{moduleName:"Module: ",moduleNotFound:"Module not found: ",moduleAppendNotFound:" html element not found on this page",timeSettings:"dekko.js >> settings loaded",timeModule:"dekko.js >> module: ",timeSeconds:", load time",easingjQuery:"jQuery easing not initialized",ctErr:"Content type settings not correct",totalTime:"Total time load "},regex:{iso8601:/^(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2})(\.\d+)?([+-]\d{2})\:(\d{2})$/,ie:/Edge|MSIE|Trident/i,
mobile:/Mobi/},storePoint:{name:"dekko:",closed:":closed",module:":module:",prev:":rotate:",easing:"easing",options:"options",rev:":r",p:":"},dateNow:function(){return Math.round((new Date).getTime()/1E3)},dateNowISO:function(){return(new Date(1E3*this.dateNow())).toISOString().match(/(\d{2}:\d{2}:\d{2})/)},dateToUnixTimeStamp:function(a){return(a=(new Date(a.replace(this.regex.iso8601,"$1"))).getTime()/1E3)?a:!1},setStore:function(a,b){return f.localStorage.setItem(a,JSON.stringify(b))},getStore:function(a){a=
f.localStorage.getItem(a);return null!==a&&"undefined"!==typeof a?JSON.parse(a):!1},delStore:function(a){return f.localStorage.removeItem(a)},exec:function(a){return f.execScript?f.execScript(a):(new Function(a))()},mergeOptions:function(a,b){for(var c in b)a[c]=b[c];return a},render:function(a,b){f.dekkoModule=function(a){};this.exec(a);f.dekkoModule.call(this,b);delete f.dekkoModule},notice:function(a){"number"===typeof a.item.refresh&&!0===a.rotate&&this.refreshOnModules(a);return!0===a.verbose?
this.timeEnd(a.timePoint):!1},expire:function(a){var b;b=this.getStore(a.closePoint);return!1===b?!1:(b=!0===b[0]?Math.floor((a.date.now()-b[1])/60):!1)&&b>a.date.close?this.delStore(a.closePoint):!0},checkPage:function(a){return 0<a.filter(function(a){if(a===f.location.pathname)return!0}).length?!1:!0},xhr:function(a,b){var c,d;c=new ("onload"in new XMLHttpRequest?XMLHttpRequest:XDomainRequest);a.cache="boolean"==typeof a.cache?a.cache:this.defaults.cache;d=!1===a.cache?a.url+"&n="+(new Date).getTime():
a.url;c.open("GET",d,this.defaults.async);c.onreadystatechange=function(){4==c.readyState&&(c.module=b,c=null)};c.onload=a.success;c.onerror=function(){return console.log(this)};return c.send()},ajax:function(a){return this.xhr(a)},time:function(a){!1===this.detectIEBrowser&&console.time(a)},timeEnd:function(a){this.detectIEBrowser?console.log(a):console.timeEnd(a)},appendModule:function(a){var b,c;b=/^\#/i;c=/^[a-z]+$/i;return!0===b.test(a)&&!1===c.test(a)?h.getElementById(a.replace(b,"")):!1===
b.test(a)&&!0===c.test(a)?h.getElementsByTagName(a)[0]:!1},constructParams:function(a){var b={},c=[],d=[],f=[];if(0===a.modules.length)return!1;for(var e=0,g=a.modules.length;e<g;e++)if(b={item:a.modules[e],spm:a.spm,type:a.modules[e].type,name:a.modules[e].name,delay:a.modules[e].delay,cache:a.cache,domain:this.domain,verbose:a.verbose,fingerPrint:a.fingerPrint,url:a.url+"?d="+this.domain+"&m="+a.modules[e].name+"&f="+a.fingerPrint,mobile:"true"===a.modules[e].mobile?!0:!1,rotate:"true"===a.modules[e].rotate?
!0:!1,images:"object"==typeof a.modules[e].images?a.modules[e].images:[],append:a.modules[e].append,ppm:this.storePoint.name+a.fingerPrint+this.storePoint.prev,timePoint:this.console.timeModule+a.modules[e].name+this.console.timeSeconds,storeName:this.storePoint.name+a.fingerPrint+this.storePoint.p+a.modules[e].type+this.storePoint.p+a.modules[e].name+this.storePoint.rev+a.modules[e].revision,date:{now:this.dateNow,end:this.dateToUnixTimeStamp(a.modules[e].date.end),start:this.dateToUnixTimeStamp(a.modules[e].date.start),
close:a.modules[e].closeExpire}},b.closePoint=b.storeName+this.storePoint.closed,!("object"===typeof a.modules[e].pages&&0<a.modules[e].pages.length&&this.checkPage(a.modules[e].pages))&&!(b.date.now()<b.date.start||b.date.now()>b.date.end)&&!(!0===this.isMobile&&!1===b.mobile)&&!0!==this.expire(b))!0===b.rotate&&"undefined"!==typeof a.modules[e].refresh&&c.push(b),!0===b.rotate?d.push(b):f.push(b);a=1<d.length?this.filterModules(d,f,a):f;1<c.length&&(this.refreshModules=c);return this.getModules(a)},
refreshOnModules:function(a){var b={},c=this;b.el=jQuery("#"+a.name+"-wrap");b.fn=function(){b.ref=c.refreshModules.filter(function(b){return b.name!==a.name&&a.append==b.append&&!1===c.getStore(b.closePoint)});if(0===b.ref.length)return f.clearTimeout(this);b.rand=parseInt(Math.floor(Math.random()*b.ref.length),10);b.el.fadeOut(a.item.effects.duration/2,a.item.effects.easing[1],function(){jQuery(this).stop(!0).remove();c.getModules([b.ref[b.rand]]);delete b.ref})};1<c.refreshModules.length&&(b.refresh=
f.setTimeout(b.fn,a.item.refresh),b.el.mouseover(function(){f.clearTimeout(b.refresh)}))},filterModules:function(a,b,c){a=this.rotateModules(a,c);return b.concat(a).filter(function(a,b,c){return c.map(function(a){return a.name}).indexOf(a.name)===b})},randomModule:function(a,b){var c,d,f,e,g=0;e=!0;if(0===b.length)return!1;for(c=b[0].ppm+b[0].append;e;)f=this.getStore(c)?this.getStore(c):0,d=parseInt(Math.floor(Math.random()*b.length),10),e="undefined"!==typeof this.getStore(b[d].closePoint)[0]?this.getStore(b[d].closePoint)[0]:
!1,e=d!==f&&!0!==e?!1:!0,g>2*b.length&&(d=f,e=!1),g++;this.setStore(c,d);return b[d]},accumulateModulesByAppend:function(a){for(var b={},c=0,d=a.length;c<d;c++)b[a[c].append]=(b[a[c].append]||0)+1;return b},rotateModules:function(a,b){var c=[],d=[],f=0,e;for(e in this.accumulateModulesByAppend(a)){for(var g=0,h=a.length;g<h;g++)a[g].append===e&&c.push(a[g]);d[f++]=this.randomModule(b,c);c=[]}return d},getOptions:function(a){var b=this,c={};a.spm=this.storePoint.name+a.fingerPrint;a.ppm=this.storePoint.name+
a.fingerPrint+this.storePoint.prev;c.cache=a.cache;c.url=a.url+"?d="+this.domain+"&f="+a.fingerPrint;a.verbose&&b.time(b.console.timeSettings);c.success=function(c){a.modules=JSON.parse(this.responseText);a.contentType=this.getResponseHeader("content-type");a.verbose&&b.timeEnd(b.console.timeSettings);return"application/json"!==this.getResponseHeader("content-type")?b.exceptionsMessage({message:b.console.ctErr,status:"error",date:b.dateNowISO()}):!0===b.exceptionsHandler(a.modules)?b.exceptionsMessage(a.modules):
b.constructParams(a)};return b.xhr(c,null)},getModules:function(a){for(var b=this,c={success:function(a){this.module.cache&&!1===b.getStore(this.module.storeName)&&b.setStore(this.module.storeName,this.responseText);return 50>this.module.length?b.exceptionsMessage({message:b.console.moduleNotFound+this.module.name,status:"warning",date:b.dateNowISO()}):b.render(this.responseText,this.module)}},d=0,f=a.length;d<f;d++)c.url=a[d].url,c.cache=a[d].cache,a[d].verbose&&b.time(a[d].timePoint),a[d].cache&&
!1!==b.getStore(a[d].storeName)?b.render(b.getStore(a[d].storeName),a[d]):b.xhr(c,a[d])},exceptionsMessage:function(a){"undefined"===typeof a.stack?console.log(a.status+" "+a.message):this.detectIEBrowser?(console.log(a.status+" "+a.message),console.log(a.stack)):(console.group(a.status+" "+a.message),console.warn(a.stack),console.groupEnd(a.status+" "+a.message))},exceptionsHandler:function(a){var b=!1;switch(a.status){case "error":b=!0;break;default:b=!1}return b},clickAdvert:function(a){var b=
{};b.url=a.url+"&c="+a.date.now();b.success=function(a){return!0};return this.xhr(b)},getFingerprint:function(a){var b=this,c={cache:!0};c.url=a.dekkoURL+this.defaults.libs.fingerprint.path;c.success=function(c){b.exec(this.responseText);(new Fingerprint2(b.defaults.libs.fingerprint.options)).get(function(c){b.setStore(b.fingerprintStoreKey,{clientid:c});a.fingerPrint=c;return b.getOptions(a)})};return b.xhr(c,null)},getScriptTagParams:function(){var a,b,c={};a=h.getElementsByTagName("script");for(var d=
0;d<a.length;d++)/dekko\.(min\.)?js$/i.test(a[d].src)&&(b=a[d]);c.cache="false"===b.getAttribute("data-cache")?!1:!0;c.verbose="false"===b.getAttribute("data-verbose")?!1:!0;a=b.src.split("/");c.dekkoURL=a[0]+"//"+a[2];c.url=c.dekkoURL+this.defaults.path;return c},optionsPrepare:function(){var a=this.mergeOptions(this.defaults,this.getScriptTagParams());a.fingerPrint=this.getStore(this.fingerprintStoreKey).clientid;return"undefined"===typeof a.fingerPrint?this.getFingerprint(a):this.getOptions(a)},
loadJQEasing:function(){var a=this,b={},c=this.getStore(this.easingStoreKey),d=this.getScriptTagParams();b.cache=!0;b.url=d.dekkoURL+this.defaults.libs.easingjQuery.path;b.success=function(b){a.exec(this.responseText);if("undefined"===typeof jQuery.easing.def)throw Error(a.console.easingjQuery);a.setStore(a.easingStoreKey,this.responseText);return a.optionsPrepare()};if(!1===c)return a.xhr(b,null);this.exec(c);if("undefined"===typeof jQuery.easing.def)throw Error(a.console.easingjQuery);return a.optionsPrepare()},
svg:{close:function(a){return'<svg width="'+a.width+'" height="'+a.height+'"style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality;fill-rule:evenodd; clip-rule:evenodd" viewBox="0 0 13547 13547" xml:space="preserve"><g id="Ebene_x0020_1"><polygon fill="'+a.background+'" points="0,0 13547,0 13547,13547 0,13547 "/><path fill="'+a.color+'" d="M714 12832l12118 0 0 -12117 -12118 0 0 12117zm4188 -2990l1871 -1871 1871 1871 1197 -1197 -1871 -1871 1871 -1871 -1197 -1197 -1871 1871 -1871 -1871 -1197 1197 1871 1871 -1871 1871 1197 1197z"/></g></svg>'}}};
try{return f.dekkoJS=new k,"undefined"===typeof jQuery.easing.def?f.dekkoJS.loadJQEasing():f.dekkoJS.optionsPrepare()}catch(l){return console.log(l)}})(window,document);
