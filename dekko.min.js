(function(a){var b={};a(b)})(function(b){var a=function(){this.refresh={counter:0,max:100};this.defaults={libs:{jQuery:{path:"/dist/jquery.min.js"},fingerprint:{path:"/dist/fingerprint2.min.js",options:{excludeUserAgent:true}},easingjQuery:{path:"/dist/jquery.easing.min.js"}},cache:true,async:true,verbose:true,modules:[],rotate:false,path:"/sa"};this.console={moduleNotFound:"Module not found: ",moduleAppendNotFound:" html element not found on this page",dekkothrowError:"dekko.js >> [error] ",timeModule:"dekko.js >> ",timeSeconds:", load time",easingjQuery:"jQuery easing not initialized",jQuery:"jQuery not initialized",ctErr:"Content type settings not correct",totalTime:"Total time load "};this.regex={toLocalDate:/^(\d{4}\-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}).*/,ie:/Edge|MSIE|Trident/i,mobile:/Mobi/};this.storePoint={name:"dekko:",closed:":closed",module:":module:",prev:"rotate:",easing:"easing",options:"options",rev:":r",p:":"};this.easingStoreKey=this.storePoint.name+this.storePoint.easing;this.fingerprintStoreKey=this.storePoint.name+this.storePoint.options;this.domain=window.location.hostname||window.location.host;this.isMobile=this.regex.mobile.test(window.navigator.userAgent)?true:false;this.detectIEBrowser=this.regex.ie.test(window.navigator.userAgent)?true:false;this.refreshModules=[];this.xhrParams={}};a.prototype={dateNow:function(){return new Date().getTime()},setStore:function(e,d){return window.localStorage.setItem(e,JSON.stringify(d))},getStore:function(e){var d=window.localStorage.getItem(e);return(d!==null&&typeof d!=="undefined")?JSON.parse(d):false},delStore:function(d){return window.localStorage.removeItem(d)},shadowCreate:function(d){var e=jQuery(d).get(0);if(typeof e=="undefined"){return this.exceptionsMessage({message:d+" "+this.console.moduleAppendNotFound,status:this.console.dekkothrowError,date:new Date().toISOString()})}return typeof e.shadowRoot==="undefined"?d:e.shadowRoot===null?e.attachShadow({mode:"open"}):e.shadowRoot},exec:function(d){return(window.execScript)?window.execScript(d):new Function(d)()},mergeOptions:function(d,f){for(var e in f){d[e]=f[e]}return d},toLocalDateTime:function(d){return new Date(d.replace(this.regex.toLocalDate,"$1")).getTime()},render:function(d,e){window.dekkoModule=function(f){};this.exec(d);window.dekkoModule.call(this,e)},notice:function(d){if(typeof d.item.refresh==="number"&&d.rotate===true){this.refreshOnModules(d)}return(d.verbose===true)?this.timeEnd(d.timePoint):false},expire:function(g){var e=this.getStore(g.closePoint),d,f={};if(e===false){return false}d=e[0]===true?Math.floor(((g.date.now()-e[1])/1000)/60):false;return d&&d>g.date.close?this.delStore(g.closePoint):true},checkPage:function(d){var e=d.filter(function(f){if(f===window.location.pathname){return true}});return(e.length>0)?false:true},xhr:function(g,d){var f=("onload" in new XMLHttpRequest())?new XMLHttpRequest():new XDomainRequest();var e=g.cache?g.url:g.url+"&n="+new Date().getTime();f.open("GET",e,this.defaults.async);f.module=d;f.onload=g.success;f.send(null);f=null},time:function(d){if(this.detectIEBrowser===false){console.time(d)}},timeEnd:function(d){if(this.detectIEBrowser){console.log(d)}else{console.timeEnd(d)}},constructParams:function(g){var f={},d={refreshModules:[],rotates:[],defaults:[]};if(g.modules.length===0){return false}for(var e=0;e<g.modules.length;e++){f={spm:g.spm,cache:g.cache,verbose:g.verbose,domain:this.domain,item:g.modules[e],fingerPrint:g.fingerPrint,type:g.modules[e].type,name:g.modules[e].name,delay:g.modules[e].delay,append:g.modules[e].append,ppm:this.storePoint.name+this.storePoint.prev,mobile:g.modules[e].mobile==="true"?true:false,rotate:g.modules[e].rotate==="true"?true:false,images:typeof g.modules[e].images=="object"?g.modules[e].images:[],timePoint:this.console.timeModule+g.modules[e].name+this.console.timeSeconds,url:g.url+"?d="+this.domain+"&m="+g.modules[e].name+"&f="+g.fingerPrint,storeName:this.storePoint.name+g.modules[e].type+this.storePoint.p+g.modules[e].name+this.storePoint.rev+g.modules[e].revision,date:{now:this.dateNow,end:this.toLocalDateTime(g.modules[e].date.end),start:this.toLocalDateTime(g.modules[e].date.start),close:g.modules[e].closeExpire}};f.closePoint=f.storeName+this.storePoint.closed;if(typeof g.modules[e].pages==="object"&&g.modules[e].pages.length>0&&this.checkPage(g.modules[e].pages)){continue}if(f.date.now()<f.date.start||f.date.now()>f.date.end){continue}if(this.isMobile===true&&f.mobile===false){continue}if(this.expire(f)===true){continue}if(f.rotate===true&&typeof g.modules[e].refresh!=="undefined"){d.refreshModules.push(f)}if(f.rotate===true){d.rotates.push(f)}else{d.defaults.push(f)}}d.modules=(d.rotates.length>0)?this.filterModules(d.rotates,d.defaults,g):d.defaults;if(d.refreshModules.length>1){this.refreshModules=d.refreshModules}return this.getModules(d.modules)},refreshOnModules:function(e){var d={};d.refresh="";d.append=jQuery(e.append).get(0);if(typeof d.append==="undefined"){return this.exceptionsMessage({message:e.append+" "+this.console.moduleAppendNotFound,status:this.console.dekkothrowError,date:new Date().toISOString()})}d.el=(typeof d.append.shadowRoot!=="undefined"&&d.append.shadowRoot.childNodes.length>0)?jQuery(d.append.shadowRoot.childNodes[0]):jQuery("#"+e.name+"-wrap");d.fn=function(){d.ref=window.dekkoJS.refreshModules.filter(function(f){return f.name!==e.name&&e.append==f.append&&window.dekkoJS.getStore(f.closePoint)===false});if(d.ref.length===0){return clearTimeout(this)}d.rand=parseInt(Math.floor(Math.random()*d.ref.length),10);d.el.fadeOut((e.item.effects.duration/2),e.item.effects.easing[1],function(){jQuery(this).clearQueue().stop(true).remove();window.dekkoJS.getModules([d.ref[d.rand]])})};if(this.refreshModules.length>1){if(this.refresh.counter<=this.refresh.max){d.refresh=setTimeout(d.fn,e.item.refresh);d.el.mouseover(function(){clearTimeout(d.refresh)})}this.refresh.counter++}},filterModules:function(g,e,f){var d={};d.rotates=this.rotateModules(g,f);d.modules=e.concat(d.rotates).filter(function(i,h,j){return j.map(function(k){return k.name}).indexOf(i.name)===h});return d.modules},randomModule:function(g,f){var d,m,n,e,l=0,h=true;if(f.length===0){return false}d=f[0].ppm+f[0].append;while(h){n=this.getStore(d)?this.getStore(d):0;m=parseInt(Math.floor(Math.random()*f.length),10);e=typeof this.getStore(f[m].closePoint)[0]!=="undefined"?this.getStore(f[m].closePoint)[0]:false;h=(m!==n&&e!==true)?false:true;if(l>f.length*2){m=n;h=false}l++}this.setStore(d,m);return f[m]},accumulateModulesByAppend:function(g){var f={};for(var e=0,d=g.length;e<d;e++){f[g[e].append]=(f[g[e].append]||0)+1}return f},rotateModules:function(g,f){var j={g:[],l:[],i:0};for(var e in this.accumulateModulesByAppend(g)){for(var h=0,d=g.length;h<d;h++){if(g[h].append===e){j.g.push(g[h])}}j.l[j.i++]=this.randomModule(f,j.g);j.g=[]}return j.l},getOptions:function(f){var e={};this.xhrParams.cache=f.cache;f.spm=this.storePoint.name;f.ppm=this.storePoint.name+this.storePoint.prev;this.xhrParams.url=f.url+"?d="+this.domain+"&f="+f.fingerPrint;this.xhrParams.success=function(d){f.modules=JSON.parse(this.responseText);f.contentType=this.getResponseHeader("content-type");if(this.getResponseHeader("content-type")!=="application/json"){return window.dekkoJS.exceptionsMessage({message:window.dekkoJS.console.ctErr,status:"error",date:new Date().toISOString()})}if(window.dekkoJS.exceptionsHandler(f.modules)===true){return window.dekkoJS.exceptionsMessage(f.modules)}return window.dekkoJS.constructParams(f)};return this.xhr(this.xhrParams,null)},getModules:function(d){this.xhrParams.success=function(g){if(this.module.cache&&window.dekkoJS.getStore(this.module.storeName)===false){window.dekkoJS.setStore(this.module.storeName,this.responseText)}if(this.module.length<50){return window.dekkoJS.exceptionsMessage({message:window.dekkoJS.console.moduleNotFound+this.module.name,status:"warning",date:new Date().toISOString()})}return window.dekkoJS.render(this.responseText,this.module)};for(var f=0,e=d.length;f<e;f++){this.xhrParams.url=d[f].url;this.xhrParams.cache=d[f].cache;if(d[f].verbose){this.time(d[f].timePoint)}if(d[f].cache&&this.getStore(d[f].storeName)!==false){this.render(this.getStore(d[f].storeName),d[f])}else{this.xhr(this.xhrParams,d[f])}}},exceptionsMessage:function(d){if(typeof d.stack==="undefined"){console.log(d.status+" "+d.message)}else{if(this.detectIEBrowser){console.log(d.status+" "+d.message);console.log(d.stack)}else{console.group(d.status+" "+d.message);console.warn(d.stack);console.groupEnd(d.status+" "+d.message)}}},exceptionsHandler:function(e){var d=false;if(typeof e.status==="undefined"){d=false}switch(e.status){case"error":d=true;break;default:d=false;break}return d},clickAdvert:function(e){var d={};this.xhrParams.url=e.url+"&c="+e.date.now();this.xhrParams.success=function(f){return true};return this.xhr(this.xhrParams)},getFingerprint:function(d){this.xhrParams.cache=true;this.xhrParams.url=d.dekkoURL+this.defaults.libs.fingerprint.path;this.xhrParams.success=function(e){window.dekkoJS.exec(this.responseText);new Fingerprint2(window.dekkoJS.defaults.libs.fingerprint.options).get(function(g){window.dekkoJS.setStore(window.dekkoJS.fingerprintStoreKey,{clientid:g});d.fingerPrint=g;return window.dekkoJS.getOptions(d)})};return this.xhr(this.xhrParams,null)},getScriptTagParams:function(){var e={},f={};e.s=document.getElementsByTagName("script");for(var d=0;d<e.s.length;d++){if(/dekko\.(min\.)?js$/i.test(e.s[d].src)){e.d=e.s[d]}}f.cache=(e.d.getAttribute("data-cache")==="false")?false:true;f.verbose=(e.d.getAttribute("data-verbose")==="false")?false:true;e.arr=e.d.src.split("/");f.dekkoURL=e.arr[0]+"//"+e.arr[2];f.url=f.dekkoURL+this.defaults.path;return f},optionsPrepare:function(){var d=this.mergeOptions(this.defaults,this.getScriptTagParams());d.fingerPrint=this.getStore(this.fingerprintStoreKey).clientid;return(typeof d.fingerPrint==="undefined")?this.getFingerprint(d):this.getOptions(d)},loadJQEasing:function(){var d=this.getStore(this.easingStoreKey),e=this.getScriptTagParams();this.xhrParams.cache=true;this.xhrParams.url=e.dekkoURL+this.defaults.libs.easingjQuery.path;this.xhrParams.success=function(f){window.dekkoJS.exec(this.responseText);if(typeof jQuery.easing.def==="undefined"){throw new Error(window.dekkoJS.console.easingjQuery)}window.dekkoJS.setStore(window.dekkoJS.easingStoreKey,this.responseText);return window.dekkoJS.optionsPrepare()};if(d===false){return this.xhr(this.xhrParams,null)}this.exec(d);if(typeof jQuery.easing.def==="undefined"){throw new Error(this.console.easingjQuery)}return this.optionsPrepare()},loadJQuery:function(){var d=this.getScriptTagParams();this.xhrParams.cache=true;this.xhrParams.url=d.dekkoURL+this.defaults.libs.jQuery.path;this.xhrParams.success=function(e){window.dekkoJS.exec(this.responseText);if(typeof jQuery==="undefined"){throw new Error(window.dekkoJS.console.jQuery)}if(typeof jQuery.easing.def==="undefined"){return window.dekkoJS.loadJQEasing()}return window.dekkoJS.optionsPrepare()};return this.xhr(this.xhrParams,null)},svg:{close:function(d){return'<svg width="'+d.width+'" height="'+d.height+'"style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality;fill-rule:evenodd; clip-rule:evenodd" viewBox="0 0 13547 13547" xml:space="preserve"><g><polygon fill="'+d.background+'" points="0,0 13547,0 13547,13547 0,13547 "/><path fill="'+d.color+'" d="M714 12832l12118 0 0 -12117 -12118 0 0 12117zm4188 -2990l1871 -1871 1871 1871 1197 -1197 -1871 -1871 1871 -1871 -1197 -1197 -1871 1871 -1871 -1871 -1197 1197 1871 1871 -1871 1871 1197 1197z"/></g></svg>'}}};try{window.dekkoJS=new a();if(typeof jQuery==="undefined"){return window.dekkoJS.loadJQuery()}if(typeof jQuery.easing.def==="undefined"){return window.dekkoJS.loadJQEasing()}return window.dekkoJS.optionsPrepare()}catch(c){return console.log(c)}});